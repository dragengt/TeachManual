#Chapter5. 循环：计数器下的一百次连击

##1. 说说“当”

在开始我们的“正业”——打击勇者之前，让我们先来唱一首家喻户晓的歌：

>当山峰没有棱角的时候……
当河水不再流……
……
然后怎么样怎么样。

其实，“当……”就蕴含着一个朴素的思想：

> 当 （条件满足的时候）
那么--> 做点什么

就比如说：只要音乐还在播放，小明就跳舞。

这就是循环的意思：当音乐还在继续，小明就不断地执行“跳舞”这个动作。

当然，细想一下，歌词里的“当”更应该是表达了“即使……也……”的意思，而不应该是我们这里的“当……就……”，不然的话，歌词就变味了。之所以会衍生出这么多的意思，大概是因为中文实在是博大精深。

所以，需要提前声明一下，下面开始描述的“while”，应该是“当……就……”的意思。

##2. 循坏与中断

回到我们的正题上：如何重复地打击勇者，而不用手动复制几十次的TakeDamage（）调用。

要实现这个目标，我们就要想清楚用于描述这个行为的过程，这样才能写出合理的语句让计算机听得懂。

一般地，我们会给出这么一段话，来描述我们打击勇者的过程：

```

1. 如果 （勇者还没Game Over），则：
{
	2. 打击勇者（）；
	3. 回到第1步；
}

4. 输出：游戏结束了~

```
按照这个流程而走，只要勇者还没死亡，那么程序就会不断地执行1、2、3，然后又回到1、2、3步。

当然，只要勇者血量低于0了，那么第1步过后由于条件不满足，就会运行到第4步，也就是……游戏，结束了。

在早期的程序中，确实存在这么样的类似于if 和 goto的句法以实现循环的功能。但是，在js里面，这样的句法太过晦涩，而换用了“while”语句以实现我们的需求。while跟if的语句何其相似：

```js

while( 条件 )
{
	执行某些事情( );
}

```

这里的while，其实可以理解为“当条件满足时，那么就执行该部分内的语句，直到条件不再满足为止”。

所以，正题来了，只要hp大于0，那么，勇者就会遭受命运的摧残：


```js

var heroHP = 100;
while( heroHP > 0)
{
	heroHP = heroHP - 10;
	console.log(  "一天过去，勇者失去了10点生命值……剩下HP: "+heroHP  );
}

console.log( " 游戏……结束了。 ");

```

在上面的代码中，可以很容易理解while循环：当勇者的血量大于0的时候，那么他会度过一天，并失去10点生命值，直到10天后他的血量终于变成了0，自此while循环的条件不再被满足，循环不会被执行，所以会执行while后面的一句，游戏结束。

实际上，while就是游戏程序，甚至是任一软件背后的主体部分，比如游戏中通常会有这么样的代码结构：

```
某些数据的初始化；
装载内容；


```
